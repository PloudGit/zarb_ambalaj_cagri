<?xml version="1.0" encoding="UTF-8" ?>
<mvc:View
    controllerName="com.app.abdiibrahim.zarbambalajcagri.controller.Main"
    xmlns:mvc="sap.ui.core.mvc"
    displayBlock="true"
    xmlns="sap.m"
    xmlns:f="sap.f"
    xmlns:core="sap.ui.core"
    xmlns:smartFilterBar="sap.ui.comp.smartfilterbar"
    xmlns:t="sap.ui.table"
>
    <App>
        <pages>
            <Page
                id="mainPage"
                showHeader="false"
            >
                <content>
                    <f:DynamicPage
                        id="mainDynamicPage"
                        fitContent="false"
                        preserveHeaderStateOnScroll="true"
                    >
                        <!-- HEADER -->
                        <f:header>
                            <f:DynamicPageHeader>
                                <f:content>
                                    <!-- FILTER BAR -->
                                    <smartFilterBar:SmartFilterBar
                                        id="smartFilterBar"
                                        entitySet="OrderSet"
                                        useToolbar="true"
                                        showClearButton="true"
                                        showGoOnFB="true"
                                        useVariantManagement="true"
                                        persistencyKey="ZARBAMBALAJCAGRI_FILTERBAR"
                                    >
                                        <smartFilterBar:controlConfiguration>
                                            <smartFilterBar:ControlConfiguration
                                                key="SupplierId"
                                                label="{i18n>supplier}"
                                                index="1"
                                            />
                                            <smartFilterBar:ControlConfiguration
                                                key="SASNum"
                                                label="{i18n>sasNumber}"
                                                index="2"
                                            />
                                            <smartFilterBar:ControlConfiguration
                                                key="MaterialCode"
                                                label="{i18n>materialCode}"
                                                index="3"
                                            />
                                            <smartFilterBar:ControlConfiguration
                                                key="Plant"
                                                label="{i18n>plant}"
                                                index="4"
                                            />
                                            <smartFilterBar:ControlConfiguration
                                                key="Unit"
                                                label="{i18n>unit}"
                                                index="5"
                                            />
                                        </smartFilterBar:controlConfiguration>
                                    </smartFilterBar:SmartFilterBar>
                                </f:content>
                            </f:DynamicPageHeader>
                        </f:header>

                        <!-- CONTENT -->
                        <f:content>
                            <t:Table
                                id="mainTable"
                                rows="{/OrderSet}"
                                visibleRowCount="10"
                                selectionMode="Single"
                                threshold="50"
                                enableColumnReordering="true"
                                enableSorting="true"
                                enableCellFilter="true"
                                width="100%"
                            >
                                <t:toolbar>
                                    <Toolbar>
                                        <Title text="{i18n>tableHeader}" />
                                        <ToolbarSpacer />
                                        <Button
                                            icon="sap-icon://save"
                                            text="{i18n>btnSave}"
                                            type="Emphasized"
                                            press=".onSave"
                                        />
                                        <Button
                                            icon="sap-icon://download"
                                            text="{i18n>export}"
                                            press=".onExport"
                                        />
                                    </Toolbar>
                                </t:toolbar>
                                <t:columns>
                                    <t:Column>
                                        <Label text="{i18n>sasNumber}" />
                                        <t:template>
                                            <Text text="{SASNum}" />
                                        </t:template>
                                    </t:Column>

                                    <t:Column>
                                        <Label text="{i18n>itemNumber}" />
                                        <t:template>
                                            <Text text="{ItemNum}" />
                                        </t:template>
                                    </t:Column>

                                    <t:Column>
                                        <Label text="{i18n>materialCode}" />
                                        <t:template>
                                            <Text text="{MaterialCode}" />
                                        </t:template>
                                    </t:Column>

                                    <t:Column>
                                        <Label text="{i18n>materialDesc}" />
                                        <t:template>
                                            <Text text="{MaterialDesc}" />
                                        </t:template>
                                    </t:Column>

                                    <t:Column>
                                        <Label text="{i18n>supplier}" />
                                        <t:template>
                                            <Text text="{SupplierId}" />
                                        </t:template>
                                    </t:Column>

                                    <t:Column>
                                        <Label text="{i18n>supplierName}" />
                                        <t:template>
                                            <Text text="{SupplierName}" />
                                        </t:template>
                                    </t:Column>

                                    <t:Column>
                                        <Label text="{i18n>quantity}" />
                                        <t:template>
                                            <Text text="{Quantity}" />
                                        </t:template>
                                    </t:Column>

                                    <t:Column>
                                        <Label text="{i18n>unit}" />
                                        <t:template>
                                            <Text text="{Unit}" />
                                        </t:template>
                                    </t:Column>

                                    <t:Column>
                                        <Label text="{i18n>remainingQty}" />
                                        <t:template>
                                            <Text text="{RemainingQty}" />
                                        </t:template>
                                    </t:Column>

                                    <!-- Editable: PrintCode -->
                                    <t:Column>
                                        <Label text="{i18n>printCode}" />
                                        <t:template>
                                            <Input value="{PrintCode}" />
                                        </t:template>
                                    </t:Column>

                                    <t:Column>
                                        <Label text="{i18n>deliveryDate}" />
                                        <t:template>
                                            <DatePicker
                                                value="{path: 'DeliveryDate', type: 'sap.ui.model.type.Date'}"
                                                displayFormat="short"
                                            />
                                        </t:template>
                                    </t:Column>

                                    <t:Column>
                                        <Label text="{i18n>status}" />
                                        <t:template>
                                            <Text text="{Status}" />
                                        </t:template>
                                    </t:Column>

                                    <t:Column>
                                        <Label text="{i18n>note}" />
                                        <t:template>
                                            <Text text="{Note}" />
                                        </t:template>
                                    </t:Column>
                                </t:columns>
                            </t:Table>
                        </f:content>
                    </f:DynamicPage>
                </content>
            </Page>
        </pages>
    </App>
</mvc:View>
