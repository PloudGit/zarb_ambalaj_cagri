<?xml version="1.0" encoding="UTF-8" ?>
<mvc:View
    controllerName="com.app.abdiibrahim.zarbambalajcagri.controller.Main"
    xmlns:mvc="sap.ui.core.mvc"
    displayBlock="true"
    xmlns="sap.m"
    xmlns:f="sap.f"
    xmlns:core="sap.ui.core"
    xmlns:smartFilterBar="sap.ui.comp.smartfilterbar"
    xmlns:t="sap.ui.table"
>
    <App>
        <pages>
            <Page
                id="mainPage"
                showHeader="false"
            >
                <content>
                    <f:DynamicPage
                        id="mainDynamicPage"
                        fitContent="false"
                        preserveHeaderStateOnScroll="true"
                    >
                        <!-- HEADER -->
                        <f:header>
                            <f:DynamicPageHeader>
                                <f:content>
                                    <smartFilterBar:SmartFilterBar
                                        id="smartFilterBar"
                                        entitySet="OrderListsSet"
                                        useToolbar="true"
                                        showClearButton="true"
                                        showGoOnFB="true"
                                        persistencyKey="ZARBAMBALAJCAGRI_FILTERBAR"
                                        search=".onSearch"
                                    >
                                        <smartFilterBar:controlConfiguration>
                                            <!-- Tedarikçi -->
                                            <smartFilterBar:ControlConfiguration
                                                key="Lifnr"
                                                label="{i18n>supplier}"
                                                index="1"
                                                visibleInAdvancedArea="true"
                                            />

                                            <!-- SAS Numarası -->
                                            <smartFilterBar:ControlConfiguration
                                                key="Ebeln"
                                                label="{i18n>sasNumber}"
                                                index="2"
                                                visibleInAdvancedArea="true"
                                            />

                                            <!-- Malzeme Kodu -->
                                            <smartFilterBar:ControlConfiguration
                                                key="Matnr"
                                                label="{i18n>materialCode}"
                                                index="3"
                                                visibleInAdvancedArea="true"
                                            />

                                            <!-- Üretim Yeri -->
                                            <smartFilterBar:ControlConfiguration
                                                key="Werks"
                                                label="{i18n>plant}"
                                                index="4"
                                                visibleInAdvancedArea="true"
                                            />

                                            <!-- Ölçü Birimi -->
                                            <smartFilterBar:ControlConfiguration
                                                key="Meins"
                                                label="{i18n>unit}"
                                                index="5"
                                                visibleInAdvancedArea="true"
                                            />
                                        </smartFilterBar:controlConfiguration>
                                    </smartFilterBar:SmartFilterBar>
                                </f:content>
                            </f:DynamicPageHeader>
                        </f:header>

                        <!-- CONTENT -->
                        <f:content>
                            <t:Table
                                id="mainTable"
                                rows="{dm>/OrderList}"
                                visibleRowCount="10"
                                selectionMode="Single"
                                threshold="50"
                                enableColumnReordering="true"
                                enableCellFilter="true"
                                width="100%"
                            >
                                <t:toolbar>
                                    <Toolbar>
                                        <Title text="{i18n>tableHeader}" />
                                        <Button
                                            icon="sap-icon://edit"
                                            text="{i18n>btnChange}"
                                            press=".onChange"
                                        />

                                        <Button
                                            icon="sap-icon://add-document"
                                            text="{i18n>btnAddNewCall}"
                                            press=".onAddNewCall"
                                        />

                                        <Button
                                            icon="sap-icon://delete"
                                            text="{i18n>btnCancelCall}"
                                            press=".onCancelCall"
                                        />

                                        <ToolbarSpacer />
                                        <Button
                                            icon="sap-icon://save"
                                            text="{i18n>btnSave}"
                                            type="Emphasized"
                                            press=".onSave"
                                        />
                                        <Button
                                            icon="sap-icon://download"
                                            text="{i18n>export}"
                                            press=".onExport"
                                        />
                                    </Toolbar>
                                </t:toolbar>

                                <t:columns>
                                    <t:Column sortProperty="Ebeln">
                                        <Label text="{i18n>sasNumber}" />
                                        <t:template>
                                            <Text text="{dm>Ebeln}" />
                                        </t:template>
                                    </t:Column>

                                    <t:Column sortProperty="Ebelp">
                                        <Label text="{i18n>itemNumber}" />
                                        <t:template>
                                            <Text text="{dm>Ebelp}" />
                                        </t:template>
                                    </t:Column>

                                    <t:Column sortProperty="Matnr">
                                        <Label text="{i18n>materialCode}" />
                                        <t:template>
                                            <Text text="{dm>Matnr}" />
                                        </t:template>
                                    </t:Column>

                                    <t:Column sortProperty="Txt01">
                                        <Label text="{i18n>materialDesc}" />
                                        <t:template>
                                            <Text text="{dm>Txt01}" />
                                        </t:template>
                                    </t:Column>

                                    <t:Column sortProperty="Lifnr">
                                        <Label text="{i18n>supplier}" />
                                        <t:template>
                                            <Text text="{dm>Lifnr}" />
                                        </t:template>
                                    </t:Column>

                                    <t:Column sortProperty="Name1">
                                        <Label text="{i18n>supplierName}" />
                                        <t:template>
                                            <Text text="{dm>Name1}" />
                                        </t:template>
                                    </t:Column>

                                    <t:Column sortProperty="Menge">
                                        <Label text="{i18n>quantity}" />
                                        <t:template>
                                            <Text text="{dm>Menge}" />
                                        </t:template>
                                    </t:Column>

                                    <t:Column>
                                        <Label text="{i18n>unit}" />
                                        <t:template>
                                            <Text text="{dm>Meins}" />
                                        </t:template>
                                    </t:Column>

                                    <t:Column sortProperty="Sevkm">
                                        <Label text="{i18n>remainingQty}" />
                                        <t:template>
                                            <Text text="{dm>Sevkm}" />
                                        </t:template>
                                    </t:Column>

                                    <!-- Editable: PrintCode -->
                                    <t:Column>
                                        <Label text="{i18n>printCode}" />
                                        <t:template>
                                            <Input value="{dm>Zdrukodu}" />
                                        </t:template>
                                    </t:Column>

                                    <t:Column>
                                        <Label text="{i18n>deliveryDate}" />
                                        <t:template>
                                            <DatePicker
                                                value="{path: 'dm>Eindt', type: 'sap.ui.model.type.Date'}"
                                                displayFormat="short"
                                            />
                                        </t:template>
                                    </t:Column>

                                    <t:Column>
                                        <Label text="{i18n>status}" />
                                        <t:template>
                                            <Text text="{dm>Status}" />
                                        </t:template>
                                    </t:Column>

                                    <t:Column>
                                        <Label text="{i18n>note}" />
                                        <t:template>
                                            <Text text="{dm>Note}" />
                                        </t:template>
                                    </t:Column>
                                </t:columns>
                            </t:Table>
                        </f:content>
                    </f:DynamicPage>
                </content>
            </Page>
        </pages>
    </App>
</mvc:View>
