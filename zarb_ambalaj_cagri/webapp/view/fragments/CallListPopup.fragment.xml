<core:FragmentDefinition
    xmlns="sap.m"
    xmlns:core="sap.ui.core"
    xmlns:t="sap.ui.table"
>
    <Dialog
        id="popupDialogCallList"
        title="{i18n>callListTitle}"
        stretchOnPhone="true"
        draggable="true"
        resizable="true"
        contentWidth="1000px"
    >
        <content>
            <t:Table
                id="callListTable"
                rows="{dm>/CallList}"
                visibleRowCount="10"
                selectionMode="Single"
                threshold="50"
                enableColumnReordering="true"
                enableCellFilter="true"
                width="100%"
            >
                <t:toolbar>
                    <Toolbar>
                        <Title text="{i18n>terminTableHeader}" />

                        <Button
                            icon="sap-icon://edit"
                            text="{i18n>btnChange}"
                            press=".onChange"
                            class="orangeButton"
                        />

                        <Button
                            icon="sap-icon://add-document"
                            text="{i18n>btnAddNewCall}"
                            press=".onAddNewCall"
                            class="blueButton"
                        />

                        <Button
                            icon="sap-icon://delete"
                            text="{i18n>btnCancelCall}"
                            press=".onCancelCall"
                            class="redButton"
                        />
                        <ToolbarSpacer />
                    </Toolbar>
                </t:toolbar>

                <t:columns>
                    <t:Column sortProperty="Etenr">
                        <Label text="{i18n>terminItemNo}" />
                        <t:template>
                            <Text text="{dm>Etenr}" />
                        </t:template>
                    </t:Column>

                    <t:Column sortProperty="Menge">
                        <Label text="{i18n>quantity}" />
                        <t:template>
                            <Text
                                text="{
                                                path: 'dm>Menge',
                                                formatter: '.formatters.formatDecimal'
                                            }"
                            />
                        </t:template>
                    </t:Column>

                    <t:Column>
                        <Label text="{i18n>unit}" />
                        <t:template>
                            <Text text="{dm>Meins}" />
                        </t:template>
                    </t:Column>

                    <t:Column sortProperty="Eindt">
                        <Label text="{i18n>deliveryDate}" />
                        <t:template>
                            <DatePicker
                                value="{
                                                path: 'dm>Eindt',
                                                type: 'sap.ui.model.odata.type.DateTime',
                                                formatOptions: {
                                                    pattern: 'dd.MM.yyyy'
                                                }
                                            }"
                                displayFormat="short"
                                editable="false"
                            />
                        </t:template>
                    </t:Column>

                    <t:Column sortProperty="Slfdt">
                        <Label text="{i18n>firmDeliveryDate}" />
                        <t:template>
                            <DatePicker
                                value="{
                                                path: 'dm>Slfdt',
                                                type: 'sap.ui.model.odata.type.DateTime',
                                                formatOptions: {
                                                    pattern: 'dd.MM.yyyy'
                                                }
                                            }"
                                editable="false"
                                displayFormat="short"
                            />
                        </t:template>
                    </t:Column>

                    <t:Column>
                        <Label text="{i18n>printCode}" />
                        <t:template>
                            <Input
                                value="{dm>Normt}"
                                editable="false"
                            />
                        </t:template>
                    </t:Column>
                </t:columns>
            </t:Table>
        </content>

        <buttons>
            <Button
                text="{i18n>btnClose}"
                icon="sap-icon://sys-cancel"
                class="redButton"
                press=".onCloseCallListPopup"
            />
        </buttons>
    </Dialog>
</core:FragmentDefinition>
